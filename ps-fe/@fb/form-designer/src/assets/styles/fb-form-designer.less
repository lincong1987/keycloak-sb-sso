/*!
* fb-form-designer
* (c) 2021 lincong1987
*/

@import "./var";

.fb-form-designer {

	display:    block;
	background: #F0EFF5;
	padding:    8px;
	height:     100%;


	@import "./fb-form-designer-view";


	// 数据调试面板
	.debugger-panel {
		z-index: 999;
		display: none;
	}

	.editor-form {
		padding: 8px;
	}

	/********************************************************************************
		设计器 行
	 ********************************************************************************/

	.editor-row {

		position:         relative;
		padding:          8px;
		border-radius:    6px;
		cursor:           pointer;
		border:           2px dashed @--color-danger;
		background-color: @--color-white;

		.editor-row__toolbar {
			position:         absolute;
			left:             8px;
			top:              0;
			border:           2px dashed @--color-danger;
			background-color: @--color-white;
			border-bottom:    0;
			border-radius:    4px 4px 0 0;
			z-index:          101;
			padding:          4px;
			height:           0;
			transition:       all 0.3s;
			overflow:         hidden;
			opacity:          0;

			.editor-row__title {
				font-weight:   bold;
				display:       inline-block;
				padding-left:  8px;
				padding-right: 8px;
			}

			.editor-row__remove,
			.editor-row__up,
			.editor-row__down {
				height:        24px;
				line-height:   24px;
				background:    @--color-danger;
				border-radius: 12px;
				text-align:    center;
				cursor:        pointer;
				display:       inline-block;
				margin:        4px;
			}
		}

		&:hover {
			box-shadow:       0 0 4px @--color-danger;
			background-color: @--color-danger-lighter;

			.editor-row__toolbar {
				box-shadow:       0px -2px 4px 0px @--color-danger;
				background-color: @--color-danger-lighter;
				top:              -44px;
				height:           44px;
				opacity:          1;
			}
		}


		&--row-fieldset {
		}

		&--row-12 {
		}

		&--row-24 {
		}


	}

	/********************************************************************************
		编辑器单元
	 ********************************************************************************/

	.editor-cell {
		padding:       8px;
		position:      relative;
		border:        1px dashed @--color-primary;
		border-radius: 4px;

		.editor-cell__toolbar {
			position:         absolute;
			right:            8px;
			top:              0;
			border:           2px dashed @--color-primary;
			background-color: #FFFFFF;
			border-bottom:    0;
			border-radius:    4px 4px 0 0;
			z-index:          101;
			padding:          4px;
			height:           0;
			transition:       all 0.3s;
			overflow:         hidden;
			opacity:          0;

			.editor-cell__title {
				display:       inline-block;
				padding-left:  4px;
				padding-right: 4px;
			}

			.editor-cell__name {
				display:       inline-block;
				padding-right: 4px;
			}

			.editor-cell__remove,
			.editor-cell__up,
			.editor-cell__down {
				height:        24px;
				line-height:   24px;
				background:    @--color-primary;
				border-radius: 12px;
				text-align:    center;
				cursor:        pointer;
				display:       inline-block;
				margin:        4px;
			}
		}

		.editor-cell__mask {
			position: absolute;
			height:   100%;
			width:    100%;
			top:      0;
			left:     0;
			z-index:  100;
			cursor:   pointer;
		}

		.editor-cell__component {
			padding:          8px;
			box-shadow:       0 0 4px @--color-primary;
			background-color: @--color-white;
			border-radius:    4px;

			.jpx-form-fieldset {
				.jpx-form-fieldset__legend {
					margin: 0;
				}
			}

		}

		&:hover {
			box-shadow:       0 0 4px @--color-primary;
			background-color: @--color-blue-1;

			.editor-cell__mask {
				border-radius: 4px;
				border:        1px dashed @--color-primary;
			}

			.editor-cell__toolbar {
				box-shadow:       0 0 4px @--color-primary;
				background-color: @--color-blue-1;
				top:              -44px;
				height:           44px;
				opacity:          1;
			}
		}


		&--active {
			background: @--color-blue-2;

			.editor-cell__mask {
				border-radius: 4px;
				border:        1px dotted @--color-primary;
			}

			.editor-cell__toolbar {
				background-color: @--color-blue-2;
			}

			&:hover {
				background: @--color-blue-2;

				.editor-cell__toolbar {
					background-color: @--color-blue-2;
				}

			}
		}

	}

	/********************************************************************************
		设计器空白单元
	 ********************************************************************************/

	.editor-cell-empty {

		padding:       8px;
		position:      relative;
		border:        1px dashed @--color-primary;
		width:         100%;
		border-radius: 4px;
		cursor:        pointer;
		margin-right:  8px;
		background:    @--color-white;

		&:hover {
			background: #E6F7FF;
		}

		&--ready {
			background: #E6F7FF;
			border:     1px dashed @--color-primary;
		}
	}

	/********************************************************************************
		设计器添加行
	 ********************************************************************************/

	.editor-add-row {
		margin:  8px 0;
		border:  2px dashed @--color-white;
		padding: 0 4px;

		&__container {
			text-align: center;
			height:     24px;
			opacity:    0;
			transition: all 0.3s;
		}

		&:hover {

			background-color: @--color-danger-lighter;
			border:           2px dashed @--color-danger;
			border-radius:    4px;

			.editor-add-row__container {
				display: block;
				opacity: 1;
			}
		}

		&--show {
			background-color: @--color-danger-lighter;
			border:           2px dashed @--color-danger;
			border-radius:    4px;

			.editor-add-row__container {
				display: block;
				opacity: 1;
			}
		}
	}

	/********************************************************************************
		设计器面板
	 ********************************************************************************/
	// 设计器 工具栏
	.editor-panel-toolbar {
		> .jpx-card {
			> .jpx-card__header {
				height: 46px;
			}
		}
	}

	// 设计器 左侧元件栏
	.editor-panel-components {

		> .jpx-card {

			.jpx-card__body {

				.jpx-list .jpx-list-container .jpx-list-items .jpx-list-item {

					background:    #F9F9F9;
					margin-bottom: 8px;
					cursor:        pointer;

					.icon-add-component-to-form,
					.icon-add-layout-to-form {
						opacity:    0;
						transition: opacity 0.3s;
					}

					&:hover {
						background: #E6EDFF;

						.icon-add-component-to-form,
						.icon-add-layout-to-form {
							opacity: 1;
						}
					}
				}

			}

		}

	}

	// 设计器 主面板
	.editor-panel-designer {
		height: 100%;

		> .jpx-card__body {
			overflow-y: auto;
			height:     100%;
		}
	}

	// 设计器 属性面板
	.editor-panel-prop {
		//position: sticky;
		//top:      8px;
		padding-left: 8px;
		height:       100%;

		> .jpx-card {
			height: 100%;

			> .jpx-card__header {
				height: 46px;
			}
		}
	}

	// 设计器 控件属性面板
	.editor-panel-component {
		position: sticky;
		top:      8px;

		> .jpx-card {
			> .jpx-card__header {
				height: 46px;
			}
		}
	}

}




