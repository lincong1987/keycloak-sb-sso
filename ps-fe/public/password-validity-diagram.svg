<svg width="800" height="650" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; fill: #333; }
      .subtitle { font-family: Arial, sans-serif; font-size: 14px; fill: #666; }
      .label { font-family: Arial, sans-serif; font-size: 12px; fill: #333; }
      .time-label { font-family: Arial, sans-serif; font-size: 11px; fill: #555; }
      .action-text { font-family: Arial, sans-serif; font-size: 11px; fill: #fff; font-weight: bold; }
      .zone1 { fill: #ff6b6b; stroke: #d63031; stroke-width: 2; }
      .zone2 { fill: #fdcb6e; stroke: #e17055; stroke-width: 2; }
      .zone3 { fill: #55a3ff; stroke: #0984e3; stroke-width: 2; }
      .timeline { stroke: #333; stroke-width: 3; }
      .marker { stroke: #333; stroke-width: 2; }
    </style>
  </defs>
  
  <!-- 标题 -->
  <text x="400" y="30" text-anchor="middle" class="title">密码有效期规则示意图</text>
  <text x="400" y="50" text-anchor="middle" class="subtitle">Password Validity Rules Diagram</text>
  
  <!-- 时间轴 -->
  <line x1="100" y1="150" x2="700" y2="150" class="timeline"/>
  
  <!-- 时间点标记 -->
  <line x1="150" y1="140" x2="150" y2="160" class="marker"/>
  <text x="150" y="120" text-anchor="middle" class="time-label">上次密码修改时间</text>
  <text x="150" y="135" text-anchor="middle" class="time-label">2025-07-01</text>
  <text x="150" y="175" text-anchor="middle" class="time-label">Last Password Change</text>
  
  <line x1="500" y1="140" x2="500" y2="160" class="marker"/>
  <text x="500" y="120" text-anchor="middle" class="time-label">提醒期开始</text>
  <text x="500" y="135" text-anchor="middle" class="time-label">2025-08-31</text>
  <text x="500" y="175" text-anchor="middle" class="time-label">Reminder Period Start</text>
  
  <line x1="650" y1="140" x2="650" y2="160" class="marker"/>
  <text x="650" y="120" text-anchor="middle" class="time-label">密码过期</text>
  <text x="650" y="135" text-anchor="middle" class="time-label">2025-10-01</text>
  <text x="650" y="175" text-anchor="middle" class="time-label">Password Expires</text>
  
  <!-- 区域1：安全期 -->
  <rect x="150" y="200" width="350" height="80" class="zone3" rx="5"/>
  <text x="325" y="225" text-anchor="middle" class="action-text">安全期 - 正常登录</text>
  <text x="325" y="240" text-anchor="middle" class="action-text">Safe Period - Normal Login</text>
  <text x="325" y="260" text-anchor="middle" class="action-text">restPwd = null (无任何提醒)</text>
  
  <!-- 区域2：提醒期 -->
  <rect x="500" y="200" width="150" height="80" class="zone2" rx="5"/>
  <text x="575" y="220" text-anchor="middle" class="action-text">提醒期</text>
  <text x="575" y="235" text-anchor="middle" class="action-text">Reminder Period</text>
  <text x="575" y="250" text-anchor="middle" class="action-text">强制引导</text>
  <text x="575" y="265" text-anchor="middle" class="action-text">密码修改界面</text>
  <text x="575" y="275" text-anchor="middle" class="action-text">restPwd = \"3\"</text>
  
  <!-- 区域3：过期锁定 -->
  <rect x="650" y="200" width="50" height="80" class="zone1" rx="5"/>
  <text x="675" y="225" text-anchor="middle" class="action-text">锁定</text>
  <text x="675" y="240" text-anchor="middle" class="action-text">Locked</text>
  <text x="675" y="255" text-anchor="middle" class="action-text">抛出</text>
  <text x="675" y="270" text-anchor="middle" class="action-text">异常</text>
  
  <!-- 时间段标注 -->
  <text x="325" y="190" text-anchor="middle" class="label">安全期：2025-07-01 ~ 2025-08-31 (60天)</text>
  <text x="325" y="195" text-anchor="middle" class="label">password.validity.months - password.expiry.reminder.days</text>
  <text x="575" y="190" text-anchor="middle" class="label">提醒期：2025-08-31 ~ 2025-10-01 (30天)</text>
  <text x="575" y="195" text-anchor="middle" class="label">password.expiry.reminder.days</text>
  
  <!-- 配置说明 -->
  <rect x="50" y="320" width="700" height="270" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="5"/>
  <text x="70" y="345" class="subtitle">配置参数说明：</text>
  
  <text x="70" y="370" class="label">• password.validity.months = 3 (密码有效期：3个月)</text>
  <text x="70" y="390" class="label">• password.expiry.reminder.days = 30 (提醒期：30天)</text>
  
  <text x="70" y="420" class="subtitle">处理逻辑：</text>
  
  <circle cx="80" cy="440" r="5" class="zone3"/>
  <text x="95" y="445" class="label">安全期：距离密码修改时间 &lt; (3个月 - 30天)，正常登录，无任何提醒</text>
  
  <circle cx="80" cy="460" r="5" class="zone2"/>
  <text x="95" y="465" class="label">提醒期：距离密码修改时间在最后30天内，强制引导到密码修改界面 (restPwd=\"3\")</text>
  
  <circle cx="80" cy="480" r="5" class="zone1"/>
  <text x="95" y="485" class="label">过期锁定：距离密码修改时间 ≥ 3个月，账户锁定，抛出异常</text>
  
  <text x="70" y="510" class="subtitle">示例场景：</text>
  <text x="70" y="525" class="label">上次密码修改：2025-07-01，当前时间：2025-08-30 (相差60天)</text>
  <text x="70" y="540" class="label">结果：60天 &lt; 60天(90-30)，处于安全期，restPwd = null (正常登录，无提醒)</text>
  
  <text x="70" y="560" class="subtitle">具体日期段：</text>
  <text x="70" y="575" class="label">• 安全期：2025-07-01 ~ 2025-08-31 (密码修改后60天内正常使用，无任何提醒)</text>
  <text x="70" y="590" class="label">• 提醒期：2025-08-31 ~ 2025-10-01 (最后30天强制引导修改密码)</text>
  <text x="70" y="605" class="label">• 过期锁定：2025-10-01之后 (账户锁定，无法登录)</text>
</svg>