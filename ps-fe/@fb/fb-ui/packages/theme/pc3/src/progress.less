/*!
* empty
* (c) 2020 lincong1987
*/

@import "common/var";

@progress-prefix-cls: ~'@{prefix}-progress';

.@{progress-prefix-cls} {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
	display: inline-block;

	&-line {
		position: relative;
		width: 100%;
		font-size: @--size-base;
	}

	&-small&-line,
	&-small&-line &-text {
		font-size: @--font-size-m;
	}

	&-outer {
		display: inline-block;
		width: 100%;
		margin-right: 0;
		padding-right: 0;
		.@{progress-prefix-cls}-show-info & {
			margin-right: ~'calc(-2em - 8px)';
			padding-right: ~'calc(2em + 8px)';
		}
	}

	&-inner {
		position: relative;
		display: inline-block;
		width: 100%;
		//overflow: hidden;
		vertical-align: middle;
		background-color: @--progress-remaining-color;
		border-radius: @--progress-radius;
		text-align: right;

		.@{prefix}-progress-bg_right_tip {
			position: absolute;
			left: 100%;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	&-circle-trail {
		stroke: @--progress-remaining-color;
	}

	&-circle-path {
		animation: ~'@{prefix}-progress-appear' 0.3s;
	}

	&-inner:not(.@{prefix}-progress-circle-gradient) {
		.@{prefix}-progress-circle-path {
			stroke: @--progress-default-color;
		}
	}

	&-success-bg,
	&-bg {
		position: relative;
		background-color: @--progress-default-color;
		border-radius: @--progress-radius;
		transition: all 0.4s;
	}

	&-bg-text__inside {
		&:after {
			display: inline-block;
			content: "";
			height: 100%;
			vertical-align: middle;
		}
	}

	&-success-bg {
		position: absolute;
		top: 0;
		left: 0;
		background-color: @--color-success;
	}

	&-text {
		display: inline-block;
		width: 2em;
		margin-left: 8px;
		color: @--color-text-default;
		font-size: 1em;
		line-height: 1;
		white-space: nowrap;
		text-align: left;
		vertical-align: middle;
		word-break: normal;
	}

	&-inner__text {
		display: inline-block;
		vertical-align: middle;
		color: #fff;
		font-size: 12px;
		margin: 0 5px;
	}

	&-status-active {
		.@{progress-prefix-cls}-bg::before {
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			background: @--color-info;
			border-radius: 10px;
			opacity: 0;
			animation: jpx-progress-active 2.4s cubic-bezier(.08,.82,.17,1) infinite;
			content: '';
		}
	}

	&-status-exception {
		.@{progress-prefix-cls}-bg {
			background-color: @--color-error;
		}
		.@{progress-prefix-cls}-text {
			color: @--color-error;
		}
	}

	&-status-exception &-inner:not(.@{progress-prefix-cls}-circle-gradient) {
		.@{progress-prefix-cls}-circle-path {
			stroke: @--color-error;
		}
	}

	&-status-success {
		.@{progress-prefix-cls}-bg {
			background-color: @--color-success;
		}
		.@{progress-prefix-cls}-text {
			color: @--color-success;
		}
	}

	&-status-success &-inner:not(.@{progress-prefix-cls}-circle-gradient) {
		.@{progress-prefix-cls}-circle-path {
			stroke: @--color-success;
		}
	}

	&-status-warning {
		.@{progress-prefix-cls}-bg {
			background-color: @--color-warning;
		}
		.@{progress-prefix-cls}-text {
			color: @--color-warning;
		}
	}

	&-status-warning &-inner:not(.@{progress-prefix-cls}-circle-gradient) {
		.@{progress-prefix-cls}-circle-path {
			stroke: @--color-warning;
		}
	}


	&-status-danger {
		.@{progress-prefix-cls}-bg {
			background-color: @--color-danger;
		}
		.@{progress-prefix-cls}-text {
			color: @--color-danger;
		}
	}

	&-status-danger &-inner:not(.@{progress-prefix-cls}-circle-gradient) {
		.@{progress-prefix-cls}-circle-path {
			stroke: @--color-danger;
		}
	}

	&-circle &-inner {
		position: relative;
		line-height: 1;
		background-color: transparent;
	}

	&-circle &-text {
		position: absolute;
		top: 50%;
		left: 50%;
		width: 100%;
		margin: 0;
		padding: 0;
		line-height: 1;
		white-space: normal;
		text-align: center;
		transform: translate(-50%, -50%);

	}

	&-circle&-status-exception {
		.@{progress-prefix-cls}-text {
			color: @--color-error;
		}
	}
	&-circle&-status-success {
		.@{progress-prefix-cls}-text {
			color: @--color-success;
		}
	}
}

@keyframes jpx-progress-active {
	0% {
		width: 0;
		opacity: 0.1;
	}
	20% {
		width: 0;
		opacity: 0.8;
	}
	100% {
		width: 100%;
		opacity: 0;
	}
}

