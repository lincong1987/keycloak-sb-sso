/*!
* tree-select
* (c) 2020 lincong1987
*/

@import "common/var";

.@{prefix}-table-select {
	display:        inline-block;
	width:          100%;
	vertical-align: middle;
	color:          @--color-text-secondary;
	font-size:      13px;
	position:       relative;
	line-height:    1;

	.@{prefix}-table-select__selection {
		position:         relative;
		width:            100%;
		border:           1px solid #D3D3D3;
		outline:          0;
		font-size:        13px;
		border-radius:    4px;
		background-color: #FFFFFF;
		user-select:      none;
		cursor:           pointer;
		transition:       all .2s ease-in-out;

		&:hover,
		&:focus {

			border-color: @--color-brand;

			.@{prefix}-table-select__selection-icons__down,
			.@{prefix}-table-select__selection-icons__clear {
				color: @--color-brand;
			}
		}

		&:focus {
			box-shadow: 0 0 0 3px @--color-brand;
		}
	}

	.@{prefix}-table-select__selection-icons {
		position: absolute;
		right:    8px;
		top:      0px;
		bottom:   0px;
		width:    12px;
	}

	.@{prefix}-table-select__selection-icons__down,
	.@{prefix}-table-select__selection-icons__clear {
		position:   absolute;
		left:       0;
		right:      0;
		top:        50%;
		transform:  translateY(-50%);
		color:      #999999;
		z-index:    1;
		font-size:  14px;
		transition: transform 0.3s
	}

	.@{prefix}-table-select__selection-icons__clear {
		&:hover {
			transform: translateY(-50%);
		}
	}

	.@{prefix}-table-select__selection-icons__clear {
		z-index: 2;
	}

	.@{prefix}-table-select__placeholder,
	.@{prefix}-table-select__selected-value {
		display:       block;
		width:         100%;
		height:        28px;
		line-height:   28px;
		font-size:     13px;
		overflow:      hidden;
		text-overflow: ellipsis;
		white-space:   nowrap;
		padding-left:  12px;
		padding-right: 24px;
		border:        0;
		border-radius: 4px;
	}

	.@{prefix}-table-select__selected-value {
		color: @--color-text-title;
	}

	// 搜索框
	.@{prefix}-table-select__selected-input {
		display:       block;
		width:         100%;
		height:        28px;
		line-height:   28px;
		padding-left:  8px;
		padding-right: 24px;
		margin-bottom: 5px;
		font-size:     13px;
		border:        0;
		outline:       0;
		border-bottom: 1px solid #D3D3D3;
		color:         @--color-text-secondary;
		overflow:      hidden;
		text-overflow: ellipsis;
		white-space:   nowrap;
	}

	.@{prefix}-table-select__placeholder {
		color: @--color-text-secondary;
	}

	.@{prefix}-table-select__dropdown {
		position:         absolute;
		top:              32px;
		width:            100%;
		max-height:       200px;
		margin:           5px 0;
		padding:          0 0;
		overflow:         auto;
		background-color: #FFFFFF;
		z-index:          @--index-select;
		border-radius:    4px;
		box-shadow:       @--select-dropdown-shadow;

		&.no-option-children {
			max-height: 250px;
		}

		.@{prefix}-simple-table-pager {
			padding-left: 8px;
			padding-right: 8px;
		}

	}


	.@{prefix}-table-select__dropdown__empty {

	}

	.@{prefix}-table-select__dropdown__loading {
		margin:     32px auto;
		text-align: center;
	}

	.@{prefix}-table-select__dropdown-list {
		margin:  0;
		padding: 0;
	}

	.@{prefix}-table-select-option {
		margin:        0;
		padding:       7px 16px;
		color:         #313C47;
		font-size:     12px !important;
		line-height:   normal;
		white-space:   nowrap;
		text-overflow: ellipsis;
		overflow:      hidden;
		list-style:    none;
		cursor:        pointer;
		clear:         both;
		transition:    background, transform .2s ease-in-out;

		&.focus {
			background: #E6F7FF;
		}

		&.@{prefix}-table-select-option--selected,
		&.@{prefix}-table-select-option--selected.focus {
			background: #E6F7FF;
			color:      #313C47;
		}

		&.@{prefix}-table-select-option--disabled,
		&.@{prefix}-table-select-option--disabled.focus {
			color:      #BFBFBF;;
			cursor:     not-allowed;
			background: transparent;
		}

		&.@{prefix}-table-select-option--focus,
		&.@{prefix}-table-select-option--focus.focus {
			background: #E6F7FF;
			color:      #313C47;
			opacity:    0.8;
			//transform:  translateX(4px);
		}
	}

	// 下拉分页
	.@{prefix}-table-select__pager {
		margin:      0;
		padding:     0px 16px;
		color:       @--color-text-secondary;
		font-size:   16px;
		line-height: normal;
		white-space: nowrap;
		list-style:  none;
		clear:       both;
		text-align:  center;

		.@{prefix}-button {
			margin-right: 8px;
			margin-left:  8px;
		}
	}


	&.@{prefix}-table-select--visible {

		.@{prefix}-table-select__selection-icons__down {
			transform: translateY(-50%) rotate(180deg);
		}

		.@{prefix}-table-select__selection {
			border-color: @--color-brand;
			box-shadow:   0px 0px 0px 2px rgba(2, 132, 254, 0.25);

			.@{prefix}-table-select__selection-icons__down,
			.@{prefix}-table-select__selection-icons__clear {
				color: @--color-brand;
			}
		}
	}

	&.@{prefix}-table-select--disabled {
		background-color: #F5F5F5;

		.@{prefix}-table-select__selection {
			cursor:           not-allowed;
			background-color: @--input-disabled-background;

			.@{prefix}-table-select__selected-value {
				color: @--input-color-disabled;
			}

			&:hover,
			&:focus {
				border-color: #D3D3D3;
				box-shadow:   none;

				.@{prefix}-table-select__selection-icons__down,
				.@{prefix}-table-select__selection-icons__clear {
					color: #BFBFBF;
				}
			}
		}
	}

	&.@{prefix}-table-select--readonly {
		.@{prefix}-table-select__selection {
			cursor:           default;
			background-color: @--input-disabled-background;

			.@{prefix}-table-select__selected-value {
				color: @--input-color-disabled;
			}

			&:hover,
			&:focus {
				border-color: #D3D3D3;
				box-shadow:   none;

				.@{prefix}-table-select__selection-icons__down,
				.@{prefix}-table-select__selection-icons__clear {
					color: #BFBFBF;
				}
			}
		}
	}


	&.@{prefix}-table-select--multiple {
		.@{prefix}-table-select--multiple--selected {
			min-height: 28px;
			overflow:   hidden;
			height:     30px;
		}

		.@{prefix}-table-select__selected-value {
			max-width:        80%;
			position:         relative;
			display:          inline-block;
			padding:          0 6px;
			//padding-right:    22px;
			margin:           3px 2px 3px 4px;
			font-size:        12px;
			height:           21px;
			line-height:      21px;
			width:            auto;
			background-color: #F0EFF5;
			transition:       background-color, box-shadow 0.3s;


			.@{prefix}-table-select__selected-value__clear {
				position:   absolute;
				right:      6px;
				top:        11px;
				left:       auto;
				color:      #999999;
				transform:  translateY(-50%) scale(0.8);
				transition: transform 0.3s;

				&:hover {
					transform: translateY(-50%) scale(1);
				}
			}


			&:hover {
				background-color: #E2DEF3;
				box-shadow:       0px 0px 0px 2px rgba(2, 132, 254, 0.25);
			}
		}

		.@{prefix}-table-select-option {

			position:     relative;
			padding-left: 36px;

			&::before {
				content:          "";
				display:          block;
				position:         absolute;
				height:           16px;
				width:            16px;
				left:             10px;
				background-color: #FFFFFF;
				border:           @--checkbox-input-border;
				border-radius:    2px;
				transition:       all .2s ease-in-out;
			}

			&::after {
				position:      absolute;
				left:          16px;
				top:           10px;
				height:        8px;
				width:         4px;
				border-bottom: 2px solid #FFFFFF;
				border-right:  2px solid #FFFFFF;;
				content:       "";
				transition:    all .2s ease-in-out;
				opacity:       0;
				transform:     rotate(45deg) scale(0);
			}


			&.@{prefix}-table-select-option--selected {

				&::before {
					border-color:     @--color-brand;
					background-color: @--color-brand;
				}

				&::after {
					opacity:   1;
					transform: rotate(45deg) scale(1);
				}
			}
		}
	}
}
